<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LeetCode GitHub Sync</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <header>
      <h1>üîÑ LeetCode Sync</h1>
      <p class="subtitle">Auto-sync solutions to GitHub</p>
    </header>

    <div id="status-section" class="section">
      <div class="status-indicator" id="status-indicator">
        <span class="dot"></span>
        <span id="status-text">Not configured</span>
      </div>
    </div>

    <form id="settings-form" class="section">
      <div class="form-group">
        <label for="github-token">GitHub Token</label>
        <input type="password" id="github-token" placeholder="ghp_xxxxxxxxxxxx" autocomplete="off">
        <small>
          <a href="https://github.com/settings/tokens/new?scopes=repo&description=LeetCode%20Sync" target="_blank">
            Generate token with 'repo' scope ‚Üí
          </a>
        </small>
      </div>

      <div class="form-group">
        <label for="github-username">GitHub Username</label>
        <input type="text" id="github-username" placeholder="your-username">
      </div>

      <div class="form-group">
        <label for="repo-name">Repository Name</label>
        <input type="text" id="repo-name" placeholder="leetcode-solutions">
        <small>Will be created if it doesn't exist</small>
      </div>

      <button type="submit" id="save-btn" class="btn btn-primary">
        Save Settings
      </button>
    </form>

    <div id="stats-section" class="section stats hidden">
      <h3>üìä Sync Stats</h3>
      <div class="stats-grid">
        <div class="stat-item">
          <span class="stat-value" id="total-synced">0</span>
          <span class="stat-label">Total Synced</span>
        </div>
        <div class="stat-item easy">
          <span class="stat-value" id="easy-count">0</span>
          <span class="stat-label">Easy</span>
        </div>
        <div class="stat-item medium">
          <span class="stat-value" id="medium-count">0</span>
          <span class="stat-label">Medium</span>
        </div>
        <div class="stat-item hard">
          <span class="stat-value" id="hard-count">0</span>
          <span class="stat-label">Hard</span>
        </div>
      </div>
    </div>

    <div id="bulk-sync-section" class="section hidden">
      <h3>üì¶ Bulk Sync</h3>
      <p class="bulk-desc">Sync all your past accepted solutions</p>
      <button type="button" id="bulk-sync-btn" class="btn btn-secondary">
        Sync All Past Solutions
      </button>
      <div id="bulk-progress" class="bulk-progress hidden">
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <span id="progress-text">0/0</span>
      </div>
    </div>

    <div id="obsidian-section" class="section hidden">
      <h3>üìù Obsidian Sync</h3>
      <p class="bulk-desc">Auto-sync solutions to your Obsidian vault</p>

      <div class="form-group toggle-group">
        <label class="toggle-label">
          <input type="checkbox" id="obsidian-enabled">
          <span class="toggle-checkbox"></span>
          <span class="toggle-text">Enable Obsidian Sync</span>
        </label>
      </div>

      <div id="obsidian-settings" class="hidden">
        <div class="form-group">
          <label for="obsidian-url">API URL</label>
          <input type="text" id="obsidian-url" placeholder="http://127.0.0.1:27123" value="http://127.0.0.1:27123">
          <small>From Local REST API plugin settings</small>
        </div>

        <div class="form-group">
          <label for="obsidian-api-key">API Key</label>
          <input type="password" id="obsidian-api-key" placeholder="Your API key from Obsidian" autocomplete="off">
        </div>

        <button type="button" id="test-obsidian-btn" class="btn btn-secondary btn-small">
          Test Connection
        </button>
        <span id="obsidian-status" class="status-text"></span>
      </div>
    </div>

    <footer>
      <p>Made with ‚ù§Ô∏è for LeetCoders</p>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>

</html>